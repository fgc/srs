<!doctype html>
<html>
  <head>
    <script src="../../priority_queue.js"></script>
    <script src="../../srs_core.js"></script>
    <script src="../../srs_signal.js"></script>
    <script src="../../srs_event.js"></script>
    <script src="../../srs_gates.js"></script>
    <script src="../../srs_graphics.js"></script>
    <script src="../../srs_io.js"></script>

    
    <script src="dlx_config.js"></script>
    <script src="dlx_util.js"></script>
    <script src="dlx_components.js"></script>
    <script src="dlx_control.js"></script>
    <script src="dlx_memory.js"></script>
    <script src="dlx_stage_if.js"></script>
    <script src="dlx_stage_id.js"></script>
    <script src="dlx_stage_ex.js"></script>
    <script src="dlx_stage_mem.js"></script>
    <script src="dlx_stage_wb.js"></script>



    <script>
      window.onload = function() {

      DLX.memory.ram_test_data();
      DLX.memory.register_test_data();
      DLX.init_control();
      console.log("control up");
      DLX.init_stage_if();
      console.log("if up");
      DLX.init_stage_id();
      console.log("id up");
      DLX.init_stage_ex();
      console.log("ex up");
      DLX.init_stage_mem();
      console.log("mem up");
      DLX.init_stage_wb();
      console.log("wb up");
      
      DLX.stage_if.ir.lift(function (n){
          return "0x" + n.toString(16) + " ";
      }).as_text("fetchedinstr","ifdiv");
      DLX.stage_if.ir.lift(DLX.util.disassemble).as_text("fetchedinstrd","ifdiv");


      DLX.stage_id.ir.lift(function (n){
          return "0x" + n.toString(16) + " ";
      }).as_text("fetchedinstrid","iddiv");
      DLX.stage_id.ir.lift(DLX.util.disassemble).as_text("fetchedinstrdid","iddiv");


      DLX.stage_ex.ir.lift(function (n){
          return "0x" + n.toString(16) + " ";
      }).as_text("fetchedinstrex","exdiv");
      DLX.stage_ex.ir.lift(DLX.util.disassemble).as_text("fetchedinstrdex","exdiv");

      DLX.stage_mem.ir.lift(function (n){
          return "0x" + n.toString(16) + " ";
      }).as_text("fetchedinstrmem","memdiv");
      DLX.stage_mem.ir.lift(DLX.util.disassemble).as_text("fetchedinstrdmem","memdiv");


      };


    </script>
    <link rel="stylesheet" href="../../css/srs_graphics.css">
    <style>
      #ifdiv {
        background-color: #907;
      }
      #iddiv {
        background-color: #970;
      }
      #exdiv {
        background-color: #097;
      }
      #memdiv {
        background-color: #60a;
      }

    </style>
  </head>
  <body>
    <div id="ifdiv"></div>
    <div id="iddiv"></div>
    <div id="exdiv"></div>
    <div id="memdiv"></div
    <div id="wbdiv"></div>
  </body>
</html>
